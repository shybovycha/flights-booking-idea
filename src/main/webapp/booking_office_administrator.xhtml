<!DOCTYPE html>
<html xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
>
    <head>
        <title>Booking Test Project</title>
    </head>

    <body>
        <ui:composition template="templates/user_layout.xhtml">
            <ui:define name="content">
                <div class="ui fluid raised form segment">
                    <h3>Flights available</h3>

                    <h:form>
                        <h:commandButton styleClass="ui blue submit button" value="Add" action="create_flight"/>
                    </h:form>

                    <h:dataTable value="#{ administrator.flights }" var="f" styleClass="ui table segment">
                        <h:column>
                            <f:facet name="header">From</f:facet>
                            #{ f.departure }
                        </h:column>

                        <h:column>
                            <f:facet name="header">To</f:facet>
                            #{ f.destination }
                        </h:column>

                        <h:column>
                            <f:facet name="header">At</f:facet>
                            #{ f.date }
                        </h:column>

                        <h:column>
                            <f:facet name="header">Price</f:facet>
                            #{ f.ticketCost }
                        </h:column>

                        <h:column>
                            <f:facet name="header">Tickets</f:facet>
                            #{ f.ticketsAmount }
                        </h:column>

                        <h:column>
                            <f:facet name="header">Actions</f:facet>

                            <h:form>
                                <h:commandButton action="#{ administrator.editFlight(f.id) }" styleClass="ui tiny tail button edit-user"
                                                 value="Edit">
                                </h:commandButton>

                                <h:commandButton action="#{ administrator.removeFlight(f.id) }" styleClass="ui tiny red button edit-user"
                                                 value="Remove">
                                </h:commandButton>
                            </h:form>
                        </h:column>
                    </h:dataTable>
                </div>
            </ui:define>
        </ui:composition>
    </body>
</html>